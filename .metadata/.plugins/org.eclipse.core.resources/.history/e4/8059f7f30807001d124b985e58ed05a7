package com.ssafy.ws.step3;

import java.io.FileInputStream;
import java.util.Scanner;
/**
 * B援ы쉷�쓽 鍮뚮뵫 理쒓퀬 �넂�씠 援ы븯湲�
 */ 
public class BuildingTest {

	public static void main(String[] args) throws Exception{
		System.setIn(new FileInputStream("input.txt"));
		Scanner sc = new Scanner(System.in);
		int TC = sc.nextInt();
		for(int t = 1; t <= TC; t++){
			int N = sc.nextInt();					// �떊�룄�떆 遺�吏��쓽 �겕湲� 蹂��닔	
			char[][] area=new char[N][N];			// �떊�룄�떆 遺�吏� �젙蹂대�� ���옣�븯�뒗 2李⑥썝 諛곗뿴
			// �떊�룄�떆 遺�吏� �젙蹂대�� �엯�젰諛쏆븘 ���옣�븳�떎.
			for(int i=0; i<N; i++) {
				for(int j=0; j<N; j++) {
					area[i][j] = sc.next().charAt(0);
				}
			}
			int ans=0;
			for(int i=0; i<N; i++) {     	//�떊�룄�떆 遺�吏��쓽 紐⑤뱺 援ы쉷�쓣 寃��깋
				for(int j=0; j<N; j++) {
					int bCount=0;			// 媛��뒫�븳 鍮뚮뵫 �겕湲� 蹂��닔
					boolean isPark=false;	// 8諛⑹뿉 怨듭썝�씠 �엳�뒗 吏� �뿬遺� 蹂��닔
					
					if(area[i][j]=='B')	{   // �쁽援ы쉷�씠 鍮뚮뵫�씠硫�
						// 8諛⑹씠 寃쎄퀎�궡�뿉 �엳怨�  �빐�떦 諛⑺뼢�씠 怨듭썝(G)�씤吏� �솗�씤
						if(i-1>=0 && area[i-1][j]=='G') 				isPark=true; //�긽 
						else if(i-1>=0 && j+1<N && area[i-1][j+1]=='G')	isPark=true; //�슦�긽
						else if(j+1<N && area[i][j+1]=='G')				isPark=true; //�슦
						else if(i+1<N && j+1<N &&area[i+1][j+1]=='G')	isPark=true; //�슦�븯
						else if(i+1<N && area[i+1][j]=='G')				isPark=true; //�븯
						else if(i+1<N && j-1>=0 && area[i+1][j-1]=='G')	isPark=true; //醫뚰븯
						else if(j-1>=0 && area[i][j-1]=='G')			isPark=true; //醫�
						else if(i-1>=0 && j-1>=0 && area[i-1][j-1]=='G')isPark=true; //醫뚯긽

						if(!isPark){				// 8諛� �궡�뿉 怨듭썝�씠 �뾾�떎硫�  媛�濡쒗뻾, �꽭濡쒖뿴�뿉 �엳�뒗 B援ы쉷�쓣 count
							for(int k=0; k<N; k++){ // �꽭濡쒖뿴 B援ы쉷 �꽭湲�
								if(area[k][j]=='B'){
									bCount++;
								}
								if(area[i][k]=='B'){// 媛�濡쒗뻾 B援ы쉷 �꽭湲�
									bCount++;
								}
							}
							bCount--;				// �옄�떊 以묐났�젣嫄�
						}else {						// 8諛� �궡�뿉 怨듭썝�씠 �엳�떎硫� 媛��뒫�븳 鍮뚮뵫 �넂�씠�뒗 2
							bCount = 2;
						}
						if(bCount>ans) ans=bCount;	// 理쒕�媛� 媛깆떊
					}
					
				}
			}
			System.out.println("#"+t+" "+ans);
		}
	}
}